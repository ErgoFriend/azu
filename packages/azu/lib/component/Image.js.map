{"version":3,"sources":["../../src/component/Image.jsx"],"names":["h","Component","require","termImg","terminalImage","Image","constructor","props","state","image","shouldComponentUpdate","nextProps","src","componentDidMount","fallback","file","setState","result","string","width","height","render"],"mappings":";;;;;;;;AAAA,MAAM,EAAEA,CAAF,EAAKC,SAAL,KAAmBC,QAAQ,KAAR,CAAzB;AACA,MAAMC,UAAUD,QAAQ,UAAR,CAAhB;AACA,MAAME,gBAAgBF,QAAQ,gBAAR,CAAtB;;AAEO,MAAMG,KAAN,SAAoBJ,SAApB,CAA8B;AACjCK,gBAAYC,KAAZ,EAAmB;AACf,cAAMA,KAAN;AACA,aAAKC,KAAL,GAAa;AACTC,mBAAO;AADE,SAAb;AAGH;;AAEDC,0BAAsBC,SAAtB,EAAgC;AAC5B,eAAO,KAAKJ,KAAL,CAAWK,GAAX,KAAmBD,UAAUC,GAApC;AACH;;AAEDC,wBAAoB;AAAA;;AAChB,cAAMC;AAAA,yCAAW,aAAY;AACzB,sBAAML,QAAQ,MAAML,cAAcW,IAAd,CAAmB,MAAKR,KAAL,CAAWK,GAA9B,CAApB;AACA,sBAAKI,QAAL,CAAc;AACVP;AADU,iBAAd;AAGH,aALK;;AAAA;AAAA;AAAA;AAAA,YAAN;AAMA,cAAMQ,SAASd,QAAQe,MAAR,CAAe,KAAKX,KAAL,CAAWK,GAA1B,EAA+B;AAC1CO,mBAAO,OADmC;AAE1CC,oBAAQ,OAFkC;AAG1CN;AAH0C,SAA/B,CAAf;AAKA,YAAIG,MAAJ,EAAY;AACR,iBAAKD,QAAL,CAAc;AACVP,uBAAOQ;AADG,aAAd;AAGH;AACJ;;AAEDI,aAAS;AACL,eAAO;AAAA;AAAA;AAAO,iBAAKb,KAAL,CAAWC;AAAlB,SAAP;AACH;AAjCgC;QAAxBJ,K,GAAAA,K","file":"Image.js","sourcesContent":["const { h, Component } = require('ink');\nconst termImg = require(\"term-img\");\nconst terminalImage = require(\"terminal-image\");\n\nexport class Image extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            image: \"\"\n        }\n    }\n\n    shouldComponentUpdate(nextProps){\n        return this.props.src !== nextProps.src;\n    }\n\n    componentDidMount() {\n        const fallback = async () => {\n            const image = await terminalImage.file(this.props.src);\n            this.setState({\n                image\n            });\n        };\n        const result = termImg.string(this.props.src, {\n            width: \"128px\",\n            height: \"128px\",\n            fallback\n        });\n        if (result) {\n            this.setState({\n                image: result\n            });\n        }\n    }\n\n    render() {\n        return <span>{this.state.image}</span>\n    }\n}\n"]}